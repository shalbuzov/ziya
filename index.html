<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ziya Shalbuzov – Elite Cybersecurity Arsenal</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-green: #00ff00;
            --secondary-green: #00cc00;
            --dark-green: #008800;
            --bg-black: #000000;
            --terminal-bg: #0a0a0a;
            --text-shadow: 0 0 10px var(--primary-green);
            --font-mono: 'JetBrains Mono', monospace;
            --font-orbitron: 'Orbitron', monospace;
        }

        body {
            font-family: var(--font-mono);
            background: var(--bg-black);
            color: var(--primary-green);
            overflow-x: hidden;
            cursor: none;
        }

        /* Custom Cursor */
        .cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid var(--primary-green);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            transition: all 0.1s ease;
        }

        .cursor::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 4px;
            height: 4px;
            background: var(--primary-green);
            border-radius: 50%;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--bg-black);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 0.5s ease;
        }

        .loading-text {
            font-family: var(--font-orbitron);
            font-size: 2rem;
            font-weight: 900;
            text-shadow: var(--text-shadow);
            margin-bottom: 2rem;
            animation: pulse 2s infinite;
        }

        .loading-bar {
            width: 400px;
            height: 20px;
            border: 2px solid var(--primary-green);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .loading-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-green), var(--secondary-green));
            width: 0%;
            transition: width 0.1s ease;
            box-shadow: 0 0 20px var(--primary-green);
        }

        /* Matrix Background */
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            opacity: 0.3;
        }

        /* CRT Effect */
        .crt-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            pointer-events: none;
            z-index: 100;
            opacity: 0.1;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                var(--primary-green) 2px,
                var(--primary-green) 4px
            );
            animation: crt-flicker 0.15s infinite linear;
        }

        .crt-overlay.disabled {
            display: none;
        }

        @keyframes crt-flicker {
            0% { opacity: 0.1; }
            98% { opacity: 0.1; }
            99% { opacity: 0.08; }
            100% { opacity: 0.1; }
        }

        /* Terminal Container */
        .terminal-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            min-height: 100vh;
            position: relative;
        }

        .terminal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1rem;
            border: 2px solid var(--primary-green);
            border-radius: 10px;
            background: rgba(0, 255, 0, 0.05);
        }

        .terminal-title {
            font-family: var(--font-orbitron);
            font-size: 1.5rem;
            font-weight: 900;
            text-shadow: var(--text-shadow);
        }

        .terminal-controls {
            display: flex;
            gap: 1rem;
        }

        .control-btn {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-btn.close { background: #ff5555; }
        .control-btn.minimize { background: #ffaa00; }
        .control-btn.maximize { background: #55ff55; }

        .control-btn:hover {
            transform: scale(1.2);
            box-shadow: 0 0 10px currentColor;
        }

        /* Terminal Content */
        .terminal-content {
            background: var(--terminal-bg);
            border: 2px solid var(--primary-green);
            border-radius: 10px;
            padding: 2rem;
            min-height: 70vh;
            font-size: 1rem;
            line-height: 1.6;
            overflow-y: auto;
            position: relative;
        }

        .terminal-output {
            margin-bottom: 1rem;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .terminal-line {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .prompt {
            color: var(--secondary-green);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        .input-line {
            display: flex;
            align-items: center;
            margin-top: 1rem;
        }

        .terminal-input {
            flex: 1;
            background: transparent;
            border: none;
            outline: none;
            color: var(--primary-green);
            font-family: var(--font-mono);
            font-size: 1rem;
            margin-left: 0.5rem;
        }

        .cursor-blink {
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Glitch Effect */
        .glitch {
            position: relative;
            animation: glitch 2s infinite;
        }

        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .glitch::before {
            animation: glitch-1 0.5s infinite;
            color: #ff0000;
            z-index: -1;
        }

        .glitch::after {
            animation: glitch-2 0.5s infinite;
            color: #00ffff;
            z-index: -2;
        }

        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
        }

        @keyframes glitch-1 {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(2px, -2px); }
            40% { transform: translate(-2px, 2px); }
            60% { transform: translate(-2px, -2px); }
            80% { transform: translate(2px, 2px); }
        }

        @keyframes glitch-2 {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(-2px, -2px); }
        }

        /* Sound Visualizer */
        .sound-visualizer {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            align-items: end;
            gap: 2px;
            height: 50px;
            opacity: 0.7;
            z-index: 999;
        }

        .visualizer-bar {
            width: 3px;
            background: var(--primary-green);
            border-radius: 1px;
            transition: height 0.1s ease;
            box-shadow: 0 0 5px var(--primary-green);
        }

        /* ASCII Art */
        .ascii-art {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            line-height: 1;
            color: var(--primary-green);
            text-shadow: var(--text-shadow);
            margin: 1rem 0;
            overflow-x: auto;
        }

        /* Links */
        .terminal-link {
            color: var(--secondary-green);
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .terminal-link:hover {
            color: var(--primary-green);
            text-shadow: var(--text-shadow);
            border-bottom-color: var(--primary-green);
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .terminal-container {
                padding: 1rem;
            }
            
            .terminal-title {
                font-size: 1.2rem;
            }
            
            .ascii-art {
                font-size: 0.6rem;
            }
            
            .sound-visualizer {
                bottom: 10px;
                right: 10px;
                height: 30px;
            }
        }

        /* Special Effects */
        .matrix-text {
            background: linear-gradient(45deg, #00ff00, #00cc00, #008800);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
        }

        .hacker-text {
            color: #ff0000;
            text-shadow: 0 0 10px #ff0000;
            font-weight: bold;
        }

        .success-text {
            color: #00ff00;
            text-shadow: 0 0 10px #00ff00;
        }

        .error-text {
            color: #ff5555;
            text-shadow: 0 0 10px #ff5555;
        }

        .warning-text {
            color: #ffaa00;
            text-shadow: 0 0 10px #ffaa00;
        }

        .info-text {
            color: #55aaff;
            text-shadow: 0 0 10px #55aaff;
        }

        /* Chat Interface */
        .chat-interface {
            border: 1px solid var(--primary-green);
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            background: rgba(0, 255, 0, 0.05);
        }

        .chat-message {
            margin: 0.5rem 0;
            padding: 0.5rem;
            border-radius: 3px;
        }

        .chat-user {
            background: rgba(0, 255, 0, 0.1);
            border-left: 3px solid var(--primary-green);
        }

        .chat-ai {
            background: rgba(255, 255, 0, 0.1);
            border-left: 3px solid #ffff00;
            color: #ffff00;
        }

        /* Progress Bars */
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(0, 255, 0, 0.2);
            border-radius: 5px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-green), var(--secondary-green));
            transition: width 0.3s ease;
            box-shadow: 0 0 10px var(--primary-green);
        }

        /* Hidden elements */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="cursor"></div>

    <div class="loading-screen" id="loadingScreen">
        <div class="loading-text">INITIALIZING CYBERSECURITY ARSENAL</div>
        <div class="loading-bar">
            <div class="loading-progress" id="loadingProgress"></div>
        </div>
        <div id="loadingStatus">Loading system modules...</div>
    </div>

    <canvas class="matrix-bg" id="matrixCanvas"></canvas>

    <div class="crt-overlay" id="crtOverlay"></div>

    <div class="sound-visualizer" id="soundVisualizer"></div>

    <div class="terminal-container">
        <div class="terminal-header">
            <div class="terminal-title">ZIYA SHALBUZOV – ELITE CYBERSECURITY ARSENAL</div>
            <div class="terminal-controls">
                <button class="control-btn close"></button>
                <button class="control-btn minimize"></button>
                <button class="control-btn maximize"></button>
            </div>
        </div>

        <div class="terminal-content" id="terminalContent">
            <div class="terminal-output" id="terminalOutput"></div>
            <div class="input-line">
                <span class="prompt">ziya@cybersec:~$</span>
                <input type="text" class="terminal-input" id="terminalInput" autocomplete="off" spellcheck="false">
                <span class="cursor-blink">▋</span>
            </div>
        </div>
    </div>

    <script>
        // Global Variables
        let terminalOutput = document.getElementById('terminalOutput');
        let terminalInput = document.getElementById('terminalInput');
        let commandHistory = JSON.parse(localStorage.getItem('commandHistory')) || [];
        let historyIndex = -1;
        let isAudioEnabled = JSON.parse(localStorage.getItem('audioEnabled')) !== false; // Default to true if not set
        let isCRTEnabled = JSON.parse(localStorage.getItem('crtEnabled')) !== false; // Default to true if not set
        let currentTheme = localStorage.getItem('currentTheme') || 'matrix';
        let isTyping = false;
        let chatHistory = [];
        let isInChatMode = false;

        // Audio Context
        let audioContext;
        let keyPressSound;
        let commandSound;
        let errorSound;

        // Initialize Audio
        function initAudio() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Create key press sound
                keyPressSound = createSound(800, 0.05, 'square');
                commandSound = createSound(600, 0.2, 'sine');
                errorSound = createSound(200, 0.3, 'sawtooth');
            } catch (e) {
                console.log('Audio not supported:', e);
                isAudioEnabled = false; // Disable audio if context creation fails
            }
        }

        function createSound(frequency, duration, type = 'sine') {
            if (!audioContext) return null;
            
            return function() {
                if (!isAudioEnabled) return;
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = frequency;
                oscillator.type = type;
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration);
            };
        }

        function playSound(sound) {
            if (isAudioEnabled && sound) {
                sound();
            }
        }

        // Matrix Background
        function initMatrix() {
            const canvas = document.getElementById('matrixCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()_+-=[]{}|;:,.<>?';
            const columns = canvas.width / 20;
            const drops = Array(Math.floor(columns)).fill(1);
            
            function drawMatrix() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.04)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#0f0';
                ctx.font = '15px monospace';
                
                for (let i = 0; i < drops.length; i++) {
                    const text = characters.charAt(Math.floor(Math.random() * characters.length));
                    ctx.fillText(text, i * 20, drops[i] * 20);
                    
                    if (drops[i] * 20 > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }
            
            setInterval(drawMatrix, 35);
        }

        // Sound Visualizer
        function initSoundVisualizer() {
            const visualizer = document.getElementById('soundVisualizer');
            const bars = [];
            
            // Create visualizer bars
            for (let i = 0; i < 20; i++) {
                const bar = document.createElement('div');
                bar.className = 'visualizer-bar';
                bar.style.height = '5px';
                visualizer.appendChild(bar);
                bars.push(bar);
            }
            
            // Animate bars
            function animateBars() {
                bars.forEach((bar, index) => {
                    const height = Math.random() * 40 + 5;
                    bar.style.height = height + 'px';
                    bar.style.opacity = isAudioEnabled ? 0.7 : 0.3;
                });
            }
            
            setInterval(animateBars, 100);
        }

        // Custom Cursor
        function initCursor() {
            const cursor = document.querySelector('.cursor');
            
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });
            
            document.addEventListener('mousedown', () => {
                cursor.style.transform = 'scale(0.8)';
            });
            
            document.addEventListener('mouseup', () => {
                cursor.style.transform = 'scale(1)';
            });
        }

        // Loading Screen
        function initLoadingScreen() {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingProgress = document.getElementById('loadingProgress');
            const loadingStatus = document.getElementById('loadingStatus');
            
            const loadingSteps = [
                'Initializing matrix protocols...',
                'Loading cybersecurity modules...',
                'Establishing secure connections...',
                'Deploying terminal interface...',
                'Activating defense systems...',
                'Loading complete!'
            ];
            
            let progress = 0;
            let stepIndex = 0;
            
            const loadingInterval = setInterval(() => {
                progress += Math.random() * 15 + 5;
                if (progress > 100) progress = 100;
                
                loadingProgress.style.width = progress + '%';
                
                if (stepIndex < loadingSteps.length - 1 && progress > (stepIndex + 1) * 16.67) {
                    stepIndex++;
                    loadingStatus.textContent = loadingSteps[stepIndex];
                }
                
                if (progress >= 100) {
                    clearInterval(loadingInterval);
                    setTimeout(() => {
                        loadingScreen.style.opacity = '0';
                        setTimeout(() => {
                            loadingScreen.style.display = 'none';
                            showWelcomeMessage();
                        }, 500);
                    }, 1000);
                }
            }, 100);
        }

        // Terminal Functions
        function showWelcomeMessage() {
            const welcomeText = `
╔══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                                                                          ║
║  ███████╗██╗██╗  ██╗ █████╗      ███████╗██╗  ██╗ █████╗ ██╗    ██████╗ ██╗  ██╗███████╗ ██████╗ ██╗  ██╗       ║
║  ╚══███╔╝██║╚██╗ ██╔╝██╔══██╗    ██╔════╝██║  ██║██╔══██╗██║    ██╔══██╗██║  ██║╚══███╔╝██╔═══██╗██║  ██║       ║
║    ███╔╝ ██║ ╚████╔╝ ███████║    ███████╗███████║███████║██║    ██████╔╝██║  ██║  ███╔╝ ██║  ██║██║  ██║       ║
║   ███╔╝  ██║  ╚██╔╝  ██╔══██║    ╚════██║██╔══██║██╔══██║██║    ██╔══██╗██║  ██║ ███╔╝  ██║  ██║╚██╗ ██╔╝       ║
║  ███████╗██║  ██║  ██║  ██║    ███████║██║  ██║██║  ██║███████╗██████╔╝╚██████╔╝███████╗╚██████╔╝ ╚████╔╝         ║
║  ╚══════╝╚═╝  ╚═╝  ╚═╝  ╚═╝    ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚═════╝  ╚═════╝ ╚══════╝ ╚═════╝  ╚═══╝          ║
║                                                                                                                          ║
║                                   ELITE CYBERSECURITY ARSENAL                                                          ║
║                                      Terminal Interface v3.0                                                           ║
║                                                                                                                          ║
╚══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
<span class="matrix-text">SYSTEM INITIALIZED</span> | <span class="success-text">ALL SYSTEMS OPERATIONAL</span> | <span class="info-text">READY FOR COMMANDS</span>

Type '<span class="success-text">help</span>' to see available commands or '<span class="info-text">whoami</span>' for personal info.
`;
            typeWriterEffect(welcomeText, () => {
                terminalInput.focus();
            });
        }

        async function typeWriterEffect(text, callback = () => {}, delay = 20) {
            isTyping = true;
            terminalInput.disabled = true;
            const outputDiv = document.createElement('div');
            terminalOutput.appendChild(outputDiv);

            for (let i = 0; i < text.length; i++) {
                // Check if the current character is part of a HTML tag
                if (text[i] === '<') {
                    const tagEndIndex = text.indexOf('>', i);
                    if (tagEndIndex !== -1) {
                        outputDiv.innerHTML += text.substring(i, tagEndIndex + 1);
                        i = tagEndIndex;
                        continue;
                    }
                }
                outputDiv.innerHTML += text[i];
                playSound(keyPressSound);
                terminalContent.scrollTop = terminalContent.scrollHeight; // Auto-scroll
                await new Promise(resolve => setTimeout(resolve, delay));
            }
            isTyping = false;
            terminalInput.disabled = false;
            callback();
        }

        function appendOutput(text, className = '') {
            const line = document.createElement('div');
            line.className = `terminal-line ${className} fade-in`;
            line.innerHTML = text;
            terminalOutput.appendChild(line);
            terminalContent.scrollTop = terminalContent.scrollHeight;
        }

        async function executeCommand(command) {
            command = command.trim();
            if (!command) return;

            appendOutput(`<span class="prompt">ziya@cybersec:~$</span> ${command}`);
            commandHistory.push(command);
            localStorage.setItem('commandHistory', JSON.stringify(commandHistory));
            historyIndex = -1; // Reset history index

            playSound(commandSound);

            let output = '';
            let isGlitch = false;

            const commandAliases = {
                'ls': 'help',
                'dir': 'help',
                'info': 'help',
                'about': 'whoami',
                'contactme': 'contact',
                'mygithub': 'social',
                'myprojects': 'projects',
                'cv': 'resume',
                'clearhistory': 'history clear',
                'c': 'clear'
            };

            // Check for aliases
            if (commandAliases[command.toLowerCase()]) {
                command = commandAliases[command.toLowerCase()];
            }

            if (isInChatMode) {
                await handleBashGPTCommand(command);
                return;
            }

            switch (command.toLowerCase()) {
                case 'help':
                    output = `
<span class="success-text">Available Commands:</span>
<span class="info-text">help</span> | <span class="info-text">whoami</span> | <span class="info-text">skills</span> | <span class="info-text">projects</span> | <span class="info-text">social</span> | <span class="info-text">contact</span> | <span class="info-text">resume</span> | <span class="info-text">theme</span> | <span class="info-text">audio</span> | <span class="info-text">crt</span> | <span class="info-text">history</span> | <span class="info-text">clear</span> | <span class="info-text">ascii [hacker|skull]</span> | <span class="info-text">bashgpt</span> | <span class="info-text">log</span>
                    `;
                    break;
                case 'whoami':
                    output = `
<span class="matrix-text">Name:</span> Ziya Shalbuzov
<span class="matrix-text">Role:</span> Cybersecurity Professional | Offensive Security Enthusiast
<span class="matrix-text">Mission:</span> Fortifying digital frontiers and unraveling complex security challenges.
<span class="matrix-text">Motto:</span> "The only true security is a constant state of paranoia and preparedness."
                    `;
                    break;
                case 'skills':
                    output = `
<span class="matrix-text">Offensive Security:</span> Penetration Testing, Vulnerability Assessment, Exploit Development, Red Teaming
<span class="matrix-text">Defensive Security:</span> SIEM, Incident Response, Threat Hunting, Forensics
<span class="matrix-text">Programming Languages:</span> Python, C/C++, Go, JavaScript, Bash
<span class="matrix-text">Tools & Platforms:</span> Metasploit, Nmap, Wireshark, Burp Suite, Docker, AWS, Azure
<span class="matrix-text">Operating Systems:</span> Linux (Kali, Parrot), Windows, macOS
<span class="matrix-text">Networking:</span> TCP/IP, VPNs, Firewalls, IDS/IPS
                    `;
                    break;
                case 'projects':
                    output = `
<span class="success-text">My Projects (Type 'projects [project_name]' for details):</span>
<span class="info-text">- Hackviser Platform:</span> A community-driven cybersecurity learning platform. Type 'projects hackviser'
<span class="info-text">- Custom Kali Builds:</span> Optimized Kali Linux distributions for specific pentesting needs. Type 'projects kali'
<span class="info-text">- Automated Exploit Kits:</span> Python-based scripts for automating vulnerability exploitation. Type 'projects exploit'
<span class="info-text">- Secure Web Development Framework:</span> A framework focused on security-first principles. Type 'projects websec'
                    `;
                    break;
                case 'projects hackviser':
                    output = `
<span class="matrix-text">Project: Hackviser Platform</span>
<span class="info-text">Description:</span> An interactive cybersecurity learning platform with labs, courses, and community features. Focused on practical, hands-on experience.
<span class="info-text">Technologies:</span> Python (Django), React, PostgreSQL, Docker, AWS.
<span class="info-text">Status:</span> Actively developed, expanding content and features.
<span class="info-text">Link:</span> <a href="https://hackviser.com/profile/shalbuzov" target="_blank" class="terminal-link">hackviser.com/profile/shalbuzov</a>
                    `;
                    break;
                case 'projects kali':
                    output = `
<span class="matrix-text">Project: Custom Kali Builds</span>
<span class="info-text">Description:</span> Specialized Kali Linux builds tailored for various cybersecurity domains (e.g., OSINT, Web Pentesting, Forensics). Includes pre-configured tools and optimized environments.
<span class="info-text">Technologies:</span> Debian, Shell Scripting, Custom Kernel Modules.
<span class="info-text">Status:</span> Ongoing development, new builds released periodically.
                    `;
                    break;
                case 'projects exploit':
                    output = `
<span class="matrix-text">Project: Automated Exploit Kits</span>
<span class="info-text">Description:</span> A collection of Python scripts designed to automate the process of finding and exploiting common vulnerabilities (e.g., SQLi, XSS, RCE). Focus on efficiency and ease of use.
<span class="info-text">Technologies:</span> Python, requests, BeautifulSoup, various security libraries.
<span class="info-text">Status:</span> Under active development, regularly updated with new exploits.
<span class="info-text">GitHub:</span> <a href="https://github.com/shalbuzov" target="_blank" class="terminal-link">github.com/shalbuzov</a> (select repositories)
                    `;
                    break;
                case 'projects websec':
                    output = `
<span class="matrix-text">Project: Secure Web Development Framework</span>
<span class="info-text">Description:</span> A lightweight web framework built with security in mind from the ground up. Emphasizes secure coding practices, input validation, and robust authentication mechanisms.
<span class="info-text">Technologies:</span> Go, HTML, CSS, JavaScript.
<span class="info-text">Status:</span> Early development, proof-of-concept phase.
                    `;
                    break;
                case 'social':
                    output = `
<span class="success-text">Connect with Ziya Shalbuzov:</span>
<span class="info-text">Twitter:</span> <a href="https://x.com/shalbuzovziya" target="_blank" class="terminal-link">x.com/shalbuzovziya</a> <i class="fab fa-twitter"></i>
<span class="info-text">TikTok:</span> <a href="https://tiktok.com/@shalbuzovziya" target="_blank" class="terminal-link">tiktok.com/@shalbuzovziya</a> <i class="fab fa-tiktok"></i>
<span class="info-text">SoundCloud:</span> <a href="https://soundcloud.com/shalbuzovziya" target="_blank" class="terminal-link">soundcloud.com/shalbuzovziya</a> <i class="fab fa-soundcloud"></i>
<span class="info-text">Instagram:</span> <a href="https://instagram.com/shalbuzovziya" target="_blank" class="terminal-link">instagram.com/shalbuzovziya</a> <i class="fab fa-instagram"></i>
<span class="info-text">Codédex:</span> <a href="https://codedex.io/@shalbuzov" target="_blank" class="terminal-link">codedex.io/@shalbuzov</a>
<span class="info-text">Hackviser:</span> <a href="https://hackviser.com/profile/shalbuzov" target="_blank" class="terminal-link">hackviser.com/profile/shalbuzov</a>
<span class="info-text">Reddit:</span> <a href="https://reddit.com/user/shalbuzov" target="_blank" class="terminal-link">reddit.com/user/shalbuzov</a> <i class="fab fa-reddit"></i>
<span class="info-text">GitHub:</span> <a href="https://github.com/shalbuzov" target="_blank" class="terminal-link">github.com/shalbuzov</a> <i class="fab fa-github"></i>
<span class="info-text">freeCodeCamp:</span> <a href="https://freecodecamp.org/shalbuzov" target="_blank" class="terminal-link">freecodecamp.org/shalbuzov</a>
<span class="info-text">Chess.com:</span> <a href="https://chess.com/member/realziyashalbuzov" target="_blank" class="terminal-link">chess.com/member/realziyashalbuzov</a>
                    `;
                    break;
                case 'contact':
                    output = `
<span class="success-text">Contact Ziya Shalbuzov:</span>
<span class="info-text">Email:</span> ziya.shalbuzov@protonmail.com
<span class="info-text">LinkedIn:</span> <a href="https://www.linkedin.com/in/ziyashalbuzov/" target="_blank" class="terminal-link">linkedin.com/in/ziyashalbuzov/</a> <i class="fab fa-linkedin"></i>
<span class="info-text">PGP Key:</span> Available upon request via email.
                    `;
                    break;
                case 'resume':
                    output = `
<span class="matrix-text">Loading Ziya Shalbuzov's Resume (JSON Format):</span>
<pre><code>${JSON.stringify({
    name: "Ziya Shalbuzov",
    contact: {
        email: "ziya.shalbuzov@protonmail.com",
        linkedin: "linkedin.com/in/ziyashalbuzov/",
        github: "github.com/shalbuzov"
    },
    summary: "Highly skilled Cybersecurity Professional with expertise in offensive and defensive security, passionate about ethical hacking and digital forensics.",
    experience: [
        {
            title: "Cybersecurity Analyst",
            company: "StealthSec Solutions",
            duration: "2023 - Present",
            responsibilities: [
                "Conducted penetration testing and vulnerability assessments.",
                "Developed custom security tools and scripts.",
                "Performed incident response and forensic analysis."
            ]
        },
        {
            title: "Junior Penetration Tester",
            company: "NetGuard Innovations",
            duration: "2021 - 2023",
            responsibilities: [
                "Assisted in red team exercises and security audits.",
                "Researched emerging threats and vulnerabilities.",
                "Contributed to security awareness training."
            ]
        }
    ],
    education: [
        {
            degree: "B.Sc. in Cybersecurity",
            university: "Cyber University",
            year: "2021"
        }
    ],
    skills: [
        "Penetration Testing", "Vulnerability Assessment", "Incident Response", "Malware Analysis",
        "Network Security", "Cloud Security", "Python", "Linux", "OSINT"
    ],
    certifications: [
        "OSCP (Offensive Security Certified Professional)",
        "CEH (Certified Ethical Hacker)"
    ]
}, null, 2)}</code></pre>
For a downloadable PDF version, please contact me.
                    `;
                    break;
                case 'theme':
                    output = `
<span class="warning-text">Current Theme:</span> ${currentTheme}.
<span class="info-text">Available themes are currently fixed to 'matrix'.</span>
<span class="info-text">To reset, type 'theme reset'.</span>
                    `;
                    break;
                case 'theme reset':
                    currentTheme = 'matrix';
                    localStorage.setItem('currentTheme', currentTheme);
                    output = `<span class="success-text">Theme reset to default 'matrix'.</span>`;
                    break;
                case 'audio':
                    isAudioEnabled = !isAudioEnabled;
                    localStorage.setItem('audioEnabled', JSON.stringify(isAudioEnabled));
                    output = `<span class="success-text">Audio ${isAudioEnabled ? 'enabled' : 'disabled'}.</span>`;
                    break;
                case 'crt':
                    isCRTEnabled = !isCRTEnabled;
                    localStorage.setItem('crtEnabled', JSON.stringify(isCRTEnabled));
                    document.getElementById('crtOverlay').classList.toggle('disabled', !isCRTEnabled);
                    output = `<span class="success-text">CRT effect ${isCRTEnabled ? 'enabled' : 'disabled'}.</span>`;
                    break;
                case 'history':
                    if (commandHistory.length === 0) {
                        output = `<span class="info-text">No command history.</span>`;
                    } else {
                        output = `<span class="matrix-text">Command History:</span>\n` +
                                 commandHistory.map((cmd, i) => `${i + 1}. ${cmd}`).join('\n');
                    }
                    break;
                case 'history clear':
                    commandHistory = [];
                    localStorage.removeItem('commandHistory');
                    output = `<span class="success-text">Command history cleared.</span>`;
                    break;
                case 'clear':
                case 'c':
                    terminalOutput.innerHTML = '';
                    output = `<span class="success-text">Terminal cleared.</span>`;
                    break;
                case 'ascii hacker':
                    output = `<pre class="ascii-art">
          __
         /  \\
        |    |
        |----|
        | () |
        |____|
       /______\\
      /________\\
     /__________\\
    |____________|
    |  /\\    /\\  |
    |  ||    ||  |
    |  \\/____\\/  |
    |____________|
    \\____________/
    <span class="hacker-text">HACKER MAN</span>
</pre>`;
                    break;
                case 'ascii skull':
                    output = `<pre class="ascii-art">
             .-.
            (o.o)
            | O |
            |   |
            '~~~'
           / /\\ \\\\
          |  ||  |
          '--''--'
<span class="hacker-text">SKULL FACE</span>
</pre>`;
                    break;
                case 'bashgpt':
                    isInChatMode = true;
                    chatHistory = [];
                    output = `
<span class="warning-text">Entering BashGPT mode.</span> Type '<span class="info-text">exit</span>' to leave.
<span class="chat-ai">BashGPT:</span> Hello! I am BashGPT, your personal terminal AI. How can I assist you with your cybersecurity queries today?
                    `;
                    break;
                case 'log':
                    output = `
<span class="matrix-text">System Log Viewer:</span>
<span class="success-text">[2025-07-11 19:00:01] INFO: SSHD service started successfully.</span>
<span class="info-text">[2025-07-11 19:00:05] ALERT: Unauthorized login attempt detected from 192.168.1.100. Blocking IP.</span>
<span class="warning-text">[2025-07-11 19:00:10] WARNING: High CPU utilization (90%) on web server. Investigating.</span>
<span class="success-text">[2025-07-11 19:00:15] INFO: Firewall rules updated. Traffic flow normalized.</span>
<span class="error-text">[2025-07-11 19:00:20] ERROR: Database connection failed for user 'guest'. Check credentials.</span>
<span class="info-text">[2025-07-11 19:00:25] DEBUG: Initiating routine vulnerability scan on internal network.</span>
<span class="success-text">[2025-07-11 19:00:30] INFO: Anti-Malware definitions updated to latest version.</span>
<span class="warning-text">[2025-07-11 19:00:35] WARNING: Unusual outbound traffic detected to foreign IP, flagging for review.</span>
                    `;
                    break;
                // Easter eggs
                case '1337':
                    output = `<span class="hacker-text glitch" data-text="L33T H4X0R">L33T H4X0R INITIATED. WELCOME.</span>`;
                    isGlitch = true;
                    break;
                case 'sudo rm -rf /':
                    output = `<span class="error-text">ERROR: Permission denied. Attempt to delete root directory blocked.</span>
<span class="error-text">SECURITY ALERT: Illegal operation logged. Your IP has been flagged.</span>`;
                    playSound(errorSound);
                    break;
                case 'root':
                    output = `<span class="success-text">Access granted to Ziya Shalbuzov. Welcome, root user.</span>`;
                    break;
                default:
                    output = `<span class="error-text">ERROR: Command not found: '${command}'. Type 'help' for available commands.</span>`;
                    playSound(errorSound);
                    break;
            }

            if (output) {
                if (isGlitch) {
                    appendOutput(output); // Glitch effect is applied by the CSS class
                } else {
                    await typeWriterEffect(output);
                }
            }
        }

        async function handleBashGPTCommand(command) {
            appendOutput(`<span class="prompt">You:</span> ${command}`, 'chat-user');
            chatHistory.push({ role: 'user', message: command });

            if (command.toLowerCase() === 'exit') {
                isInChatMode = false;
                appendOutput(`<span class="chat-ai">BashGPT:</span> Exiting BashGPT mode. Goodbye!`);
                await typeWriterEffect(`Returning to main terminal interface...`);
                return;
            }

            const aiResponse = await getBashGPTResponse(command);
            appendOutput(`<span class="prompt">BashGPT:</span> ${aiResponse}`, 'chat-ai');
            chatHistory.push({ role: 'ai', message: aiResponse });
        }

        async function getBashGPTResponse(userCommand) {
            // Simulate AI thinking time with a progress bar
            const progressBarHTML = `<div class="progress-bar"><div class="progress-fill" id="aiProgressBar"></div></div>`;
            const thinkingMessageDiv = document.createElement('div');
            thinkingMessageDiv.innerHTML = `<span class="info-text">BashGPT is thinking...</span>${progressBarHTML}`;
            terminalOutput.appendChild(thinkingMessageDiv);
            terminalContent.scrollTop = terminalContent.scrollHeight;

            const progressBar = document.getElementById('aiProgressBar');
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 5 + Math.random() * 10;
                if (progress > 100) progress = 100;
                progressBar.style.width = `${progress}%`;
                if (progress === 100) clearInterval(progressInterval);
            }, 100);

            await new Promise(resolve => setTimeout(resolve, 1500 + Math.random() * 2000)); // Simulate processing time

            thinkingMessageDiv.remove(); // Remove thinking message and progress bar

            let response = '';
            const lowerCommand = userCommand.toLowerCase();

            if (lowerCommand.includes('hello') || lowerCommand.includes('hi')) {
                response = 'Greetings, operator. How may I assist your cybersecurity endeavors?';
            } else if (lowerCommand.includes('vulnerability') || lowerCommand.includes('exploit')) {
                response = 'Vulnerabilities are weaknesses that can be exploited. Exploits are tools or techniques to leverage those weaknesses. What specific vulnerability are you researching?';
            } else if (lowerCommand.includes('nmap')) {
                response = 'Nmap (Network Mapper) is a free and open-source utility for network discovery and security auditing. It is widely used by penetration testers and system administrators for network inventory, managing service upgrade schedules, and monitoring host or service uptime.';
            } else if (lowerCommand.includes('metasploit')) {
                response = 'Metasploit is a powerful penetration testing framework that allows you to develop, test, and execute exploit code. It comes with a vast database of exploits, payloads, and auxiliary modules.';
            } else if (lowerCommand.includes('firewall')) {
                response = 'A firewall acts as a barrier between a trusted internal network and untrusted external networks (like the internet). It controls incoming and outgoing network traffic based on predefined security rules.';
            } else if (lowerCommand.includes('phishing')) {
                response = 'Phishing is a social engineering technique where attackers trick individuals into revealing sensitive information, often by impersonating a trustworthy entity in electronic communication.';
            } else if (lowerCommand.includes('encryption')) {
                response = 'Encryption is the process of encoding information in such a way that only authorized parties can access it and those who are not authorized cannot. It is crucial for data confidentiality.';
            } else if (lowerCommand.includes('zeroday') || lowerCommand.includes('0-day')) {
                response = 'A zero-day is a computer software vulnerability that is unknown to those who should be interested in mitigating the vulnerability (including the vendor of the target software). Until the vulnerability is patched, attackers can exploit it.';
            } else if (lowerCommand.includes('ddos')) {
                response = 'A Distributed Denial of Service (DDoS) attack aims to overwhelm a system or network with a flood of traffic from multiple compromised sources, making it unavailable to legitimate users.';
            } else if (lowerCommand.includes('thank you') || lowerCommand.includes('thanks')) {
                response = 'You are welcome, operator. Is there anything else I can assist you with?';
            } else if (lowerCommand.includes('who are you')) {
                response = 'I am BashGPT, an artificial intelligence designed to assist Ziya Shalbuzov in cybersecurity operations. My knowledge base is focused on information security and related technical domains.';
            } else if (lowerCommand.includes('who is ziya shalbuzov')) {
                response = 'Ziya Shalbuzov is a highly skilled cybersecurity professional, an offensive security enthusiast, and the creator of this very terminal interface. He is dedicated to fortifying digital frontiers and unraveling complex security challenges.';
            } else {
                response = 'I am still learning and processing complex requests. Can you rephrase your question or ask about a more specific cybersecurity topic?';
            }
            return response;
        }


        // Event Listeners
        terminalInput.addEventListener('keydown', function(e) {
            if (isTyping) {
                e.preventDefault(); // Prevent input during typewriter effect
                return;
            }

            if (e.key === 'Enter') {
                e.preventDefault(); // Prevent new line
                executeCommand(terminalInput.value);
                terminalInput.value = '';
                historyIndex = -1; // Reset history index after execution
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (commandHistory.length > 0) {
                    if (historyIndex === -1) {
                        historyIndex = commandHistory.length - 1;
                    } else if (historyIndex > 0) {
                        historyIndex--;
                    }
                    terminalInput.value = commandHistory[historyIndex];
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (commandHistory.length > 0) {
                    if (historyIndex < commandHistory.length - 1) {
                        historyIndex++;
                        terminalInput.value = commandHistory[historyIndex];
                    } else {
                        historyIndex = -1;
                        terminalInput.value = '';
                    }
                }
            } else if (e.key !== 'Shift' && e.key !== 'Control' && e.key !== 'Alt' && e.key !== 'Meta' && e.key !== 'CapsLock' && e.key !== 'Tab') {
                playSound(keyPressSound);
            }
        });

        // Control buttons
        document.querySelector('.control-btn.close').addEventListener('click', () => {
            alert('Simulation closed. In a real scenario, this would terminate the terminal process.');
            window.close(); // Attempt to close the window
        });

        document.querySelector('.control-btn.minimize').addEventListener('click', () => {
            alert('Simulation minimized. Not implemented in this terminal.');
        });

        document.querySelector('.control-btn.maximize').addEventListener('click', () => {
            alert('Simulation maximized. Not implemented in this terminal.');
        });

        // Initial setup on page load
        window.addEventListener('load', () => {
            initAudio(); // Initialize audio context early
            initLoadingScreen();
            initMatrix();
            initSoundVisualizer();
            initCursor();
            
            // Apply CRT and audio state from localStorage
            document.getElementById('crtOverlay').classList.toggle('disabled', !isCRTEnabled);
        });

        // Ensure terminal input is focused when clicking anywhere on the terminal content
        document.getElementById('terminalContent').addEventListener('click', () => {
            terminalInput.focus();
        });

    </script>
</body>
</html>
